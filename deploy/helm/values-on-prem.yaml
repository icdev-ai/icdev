# [TEMPLATE: CUI // SP-CTI]
# ICDEV Helm Values â€” On-Premises Override
# Usage: helm install icdev ./helm -f values.yaml -f values-on-prem.yaml

global:
  cloudProvider: local
  cloudRegion: on-premises
  classification: CUI
  impactLevel: IL5
  govCloud: false
  airGapped: true

# Local container registry (Harbor, Docker Registry, etc.)
image:
  registry: "localhost:5000"
  repository: icdev
  pullPolicy: IfNotPresent

# Local secrets (.env file or Vault)
secrets:
  provider: local
  envFile: "/etc/icdev/.env"

# Local PostgreSQL
database:
  provider: local_postgresql
  host: postgresql.icdev.svc.cluster.local
  port: 5432
  name: icdev
  sslMode: require
  backupRetentionDays: 30

# Local filesystem storage
storage:
  provider: local
  basePath: "/data/icdev/storage"
  backupPath: "/data/icdev/backups"

# Local Fernet encryption
kms:
  provider: local
  keyFile: "/etc/icdev/fernet.key"

# Ollama for air-gapped LLM
llm:
  provider: ollama
  baseUrl: "http://ollama.icdev.svc.cluster.local:11434/v1"
  defaultModel: "llama3.1"
  embeddingModel: "nomic-embed-text"

# Prometheus + ELK for monitoring
monitoring:
  provider: local
  prometheusUrl: "http://prometheus.monitoring.svc.cluster.local:9090"
  elkUrl: "http://elasticsearch.monitoring.svc.cluster.local:9200"

# Self-managed Kubernetes
cluster:
  provider: self_managed
  storageClass: local-path

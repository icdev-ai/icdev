# CUI // SP-CTI
# ICDEV GovCon Intelligence Configuration — Phase 59
# SAM.gov opportunity scanning, requirement mining, capability mapping, proposal automation

# =========================================================================
# SAM.gov Opportunities API
# =========================================================================
sam_gov:
  api_url: https://api.sam.gov/opportunities/v2/search
  api_key_env: SAM_GOV_API_KEY
  poll_interval_hours: 6
  rate_limit:
    requests_per_second: 10
    daily_limit: 10000
    delay_between_requests: 0.15
  naics_codes:
    - "541512"    # Computer Systems Design Services
    - "541511"    # Custom Computer Programming Services
    - "541519"    # Other Computer Related Services
    - "518210"    # Data Processing, Hosting, and Related Services
    - "541513"    # Computer Facilities Management Services
    - "541330"    # Engineering Services
    - "541611"    # Administrative Management Consulting
    - "541690"    # Other Scientific and Technical Consulting
  notice_types:
    - "o"         # Solicitation
    - "p"         # Pre-solicitation
    - "r"         # Sources Sought / RFI
    - "k"         # Combined Synopsis/Solicitation
  award_notice_types:
    - "a"         # Award Notice
    - "i"         # Intent to Bundle
  lookback_days: 30
  max_per_poll: 100
  description_max_chars: 10000

# =========================================================================
# Requirement Extraction (D362 — deterministic regex)
# =========================================================================
requirement_extraction:
  shall_patterns:
    - "shall"
    - "must"
    - "is required to"
    - "will provide"
    - "will deliver"
    - "will maintain"
    - "will ensure"
    - "will demonstrate"
    - "will comply"
    - "will support"
  domain_categories:
    devsecops:
      keywords: [DevSecOps, CI/CD, pipeline, continuous integration, continuous delivery,
                 continuous deployment, automated testing, test automation, build automation,
                 code review, merge request, pull request, GitLab, GitHub, Jenkins]
    ai_ml:
      keywords: [artificial intelligence, machine learning, AI/ML, GenAI, generative AI,
                 large language model, LLM, neural network, deep learning, model training,
                 model card, responsible AI, AI governance, AI ethics, AI RMF, AI bias,
                 natural language processing, NLP, computer vision, MLOps]
    ato_rmf:
      keywords: [ATO, authority to operate, RMF, risk management framework, NIST 800-53,
                 FedRAMP, cATO, continuous ATO, continuous authorization, SSP,
                 system security plan, POAM, plan of action, eMASS, OSCAL,
                 security assessment report, SAR, authorization boundary]
    cloud:
      keywords: [cloud, AWS, Azure, GCP, cloud migration, cloud modernization,
                 SaaS, PaaS, IaaS, GovCloud, IL4, IL5, IL6, containerization,
                 Kubernetes, Docker, microservices, serverless, cloud native]
    security:
      keywords: [cybersecurity, zero trust, ZTA, STIG, SCAP, vulnerability,
                 penetration testing, threat modeling, SAST, DAST, IAST,
                 secret detection, container scanning, supply chain security,
                 SBOM, software bill of materials, incident response]
    compliance:
      keywords: [CMMC, FedRAMP, FISMA, DFARS, NIST 800-53, NIST 800-171,
                 CJIS, HIPAA, HITRUST, SOC 2, PCI DSS, ISO 27001,
                 compliance automation, compliance monitoring, audit trail]
    agile:
      keywords: [agile, scrum, SAFe, Scaled Agile, sprint, backlog, kanban,
                 JIRA, user story, epic, feature, PI planning, program increment,
                 agile at scale, DevOps, lean]
    data:
      keywords: [data analytics, data lake, data warehouse, ETL, data pipeline,
                 business intelligence, BI, big data, data engineering,
                 data governance, data quality, master data management]
    management:
      keywords: [project management, PMP, earned value, EVMS, WBS,
                 CDRL, contract deliverable, SLA, service level,
                 transition plan, quality assurance, quality control,
                 configuration management, change management, ITIL]
  min_pattern_frequency: 3
  clustering:
    min_shared_keywords: 3
    similarity_threshold: 0.6

# =========================================================================
# Capability Mapping (D363)
# =========================================================================
capability_mapping:
  catalog_path: context/govcon/icdev_capability_catalog.json
  min_keyword_overlap: 2
  min_coverage_for_compliant: 0.80    # L in compliance matrix
  min_coverage_for_partial: 0.40      # M in compliance matrix
  # below 0.40 = N (non-compliant / gap)

# =========================================================================
# Response Drafting (D365 — two-tier LLM)
# =========================================================================
response_drafting:
  llm_function: proposal_drafting
  max_draft_length_words: 500
  include_evidence: true
  include_tool_references: true
  confidence_threshold: 0.70
  max_knowledge_blocks_per_draft: 3

# =========================================================================
# Award Tracking (D367)
# =========================================================================
award_tracking:
  enabled: true
  poll_interval_hours: 24
  lookback_days: 90
  auto_create_competitor: true

# =========================================================================
# Knowledge Base (D368)
# =========================================================================
knowledge_base:
  max_blocks_per_draft: 3
  keyword_search_top_k: 5
  track_usage: true

# =========================================================================
# Business Model (D372)
# =========================================================================
business_model:
  default_licensing: tbd
  licensing_options:
    - on_prem_free       # winning customers get ICDEV free on-prem
    - saas_paid          # other bidders pay SaaS pricing
    - negotiated         # custom terms
    - tbd                # not yet decided

  # D374 — Customer Delivery Tier → Deployment Profile mapping
  # When a proposal is won with on_prem_free, the delivery_tier determines
  # which deployment profile from deployment_profiles.yaml is used.
  delivery_tiers:
    core:
      profile: customer_core
      description: "SDLC essentials — builder, security, testing, compliance, CI/CD, dashboard"
      modules: 8
      recommended_for: "Task order deliverables, simple compliance automation"
    standard:
      profile: customer_standard
      description: "Full DevSecOps — adds ZTA, RICOAS intake, infrastructure, monitoring"
      modules: 12
      recommended_for: "Program-level delivery, DevSecOps transformation contracts"
    enterprise:
      profile: customer_enterprise
      description: "Complete engineering suite — adds MBSE, modernization, gateway, multi-agent"
      modules: 18
      recommended_for: "Enterprise-wide digital transformation, MDAP programs"
  default_delivery_tier: standard

  # Components NEVER included in customer delivery (internal business tools)
  internal_only_components:
    - govcon           # SAM.gov scanning, requirement mining, competitive intel
    - creative         # Competitor gap analysis, pain point extraction
    - innovation       # Self-improvement engine, web intelligence
    - govproposal      # Proposal writing, RFX AI drafting, color reviews
    - saas             # Multi-tenant SaaS platform layer
    - marketplace_admin  # Marketplace administration (customers consume, not run)

# =========================================================================
# Innovation / Creative Engine Cross-Registration (D361)
# =========================================================================
cross_registration:
  innovation_engine:
    enabled: true
    signal_category: govcon_opportunity
    min_score_for_registration: 0.50
  creative_engine:
    enabled: true
    signal_source_type: sam_gov_rfp

# =========================================================================
# Scheduling
# =========================================================================
scheduling:
  daemon_mode: true
  opportunity_scan_interval_hours: 6
  award_scan_interval_hours: 24
  pattern_clustering_interval_hours: 12
  quiet_hours:
    start: "02:00"
    end: "06:00"
    timezone: UTC

{% extends "base.html" %}
{% block title %}Projects - ICDEV Dashboard{% endblock %}

{% block content %}
<div class="page-header">
    <div class="breadcrumbs">
        <a href="/">Home</a>
        <span class="separator">/</span>
        <span class="current">Projects</span>
    </div>
    <h1>Projects</h1>
    <p class="subtitle">All registered ICDEV projects</p>
</div>

<div class="table-container">
    <div class="table-header">
        <h2>Project Registry</h2>
        <span class="text-muted">{{ projects|length }} project{{ 's' if projects|length != 1 }}</span>
    </div>
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Project ID</th>
                <th>Type</th>
                <th>Status</th>
                <th>Classification</th>
                <th>Created</th>
            </tr>
        </thead>
        <tbody>
            {% for project in projects %}
            <tr>
                <td><a href="/projects/{{ project.id }}">{{ project.name }}</a></td>
                <td><code style="font-size: 0.85em; user-select: all; cursor: pointer;" title="Click to select, then copy">{{ project.id }}</code></td>
                <td>{{ project.type }}</td>
                <td><span class="badge badge-{{ project.status }}">{{ project.status }}</span></td>
                <td><span class="badge badge-warning">{{ project.classification }}</span></td>
                <td class="text-muted" data-timestamp="{{ project.created_at }}">{{ project.created_at | friendly_time }}</td>
            </tr>
            {% else %}
            <tr class="empty-row"><td colspan="6">No projects found</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
